"use strict";(self.webpackChunkbakupub=self.webpackChunkbakupub||[]).push([[6918],{758:(e,n,l)=>{l.d(n,{Mp:()=>s,cn:()=>r,eQ:()=>i,rn:()=>c,uo:()=>m});var a=l(6687),t=l(9295);function i(){const e=[{rm:"\u5c5e\u6027",simple:"\u5b57\u6bb5\u3001\u6570\u636e\u9879"},{rm:"\u5173\u7cfb\u6a21\u5f0f",simple:"\u8bb0\u5f55\u7c7b\u578b"},{rm:"\u5143\u7ec4",simple:"\u8bb0\u5f55"}];return a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"0 1rem"}},e.map((e=>a.createElement("div",null,e.rm)))),a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"0 1rem"}},e.map((e=>a.createElement("div",null,e.simple)))))}function m(){const e=[{note:"\\cup",mean:"\u5e76"},{note:"-",mean:"\u5dee"},{note:"\\times",mean:"\u7b1b\u5361\u5c14\u79ef"},{note:"\\pi",mean:"\u6295\u5f71"},{note:"\\sigma",mean:"\u9009\u62e9"}];return a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"0 1rem"}},e.map((e=>a.createElement("div",null,e.mean)))),a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"0 1rem"}},e.map((e=>a.createElement(t.InlineMath,null,e.note)))))}function s(){const e=[{note:"\\cap",mean:"\u4ea4"},{note:"\\Join \\atop {X \\theta Y}",mean:"theta\u8fde\u63a5"},{note:"\\Join",mean:"\u81ea\u7136\u8fde\u63a5"},{note:"\\div",mean:"\u9664"},{note:"\\pi",mean:"\u5e7f\u4e49\u6295\u5f71"},{note:"\u27d5",mean:"\u5de6\u5916\u8fde\u63a5"},{note:"\u27d6",mean:"\u53f3\u5916\u8fde\u63a5"},{note:"\u27d7",mean:"\u5168\u5916\u8fde\u63a5"}];return a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"0 1rem"}},e.map((e=>a.createElement("div",null,e.mean)))),a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"0 1rem"}},e.map((e=>a.createElement(t.InlineMath,null,e.note)))))}function r(){const e=[{label:"UNIQUE",desc:"\u975e\u805a\u7c07\u7d22\u5f15\uff0c\u4f7f\u7528B+\u6811\u5b58\u50a8\uff0c\u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u884c\u7684\u5730\u5740"},{label:"CLUSTER",desc:"\u805a\u7c07\u7d22\u5f15\uff0c\u4f7f\u7528B+\u6811\u5b58\u50a8\uff0c\u53f6\u5b50\u8282\u70b9\u5b58\u50a8\u884c\u672c\u8eab"},{label:"ASC",desc:"\u5347\u5e8f"},{label:"DESC",desc:"\u964d\u5e8f"},{label:"WITH CHECK OPTION",desc:"\u4fee\u6539\u89c6\u56fe\u6570\u636e\u65f6\uff0c\u4fee\u6539\u7684\u6570\u636e\u53d7\u5230\u521b\u5efa\u89c6\u56fe\u65f6\u7684\u67e5\u8be2\u7684\u6761\u4ef6\u7684\u7ea6\u675f"}];return a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"0 1rem"}},e.map((e=>a.createElement("div",null,e.label)))),a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"0 1rem"}},e.map((e=>a.createElement("div",null,e.desc)))))}function c(){const e=[{label:"_",desc:"\u7528\u4e8eLIKE\u5b50\u53e5\u5b57\u7b26\u4e32\u5339\u914d\uff0c\u8868\u793a\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26"},{label:"%",desc:"\u7528\u4e8eLIKE\u5b50\u53e5\u5b57\u7b26\u4e32\u5339\u914d\uff0c\u8868\u793a\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\u4e32"},{label:"DISTINCT",desc:"\u7528\u4e8e\u6392\u9664\u91cd\u590d\u7684\u884c"},{label:"COUNT(*)",desc:"\u8ba1\u7b97\u7ed3\u679c\u96c6\u884c\u6570"},{label:"COUNT<column>",desc:"\u8ba1\u7b97\u5217\u7684\u975e\u7a7a\u884c\u4e2a\u6570"},{label:"obj-type",desc:"TABLE | DATABASE"},{label:"obj-name",desc:"TABLE_NAME | DATABASE MAME"},{label:"PUBLIC",desc:"\u8868\u793a\u5168\u4f53\u7528\u6237"},{label:"WITH GRANT OPTION",desc:"\u88ab\u6388\u6743\u7528\u6237\u62e5\u6709\u6388\u6743\u7684\u80fd\u529b"}];return a.createElement("div",{style:{display:"flex"}},a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"0 1rem"}},e.map((e=>a.createElement("div",null,e.label)))),a.createElement("div",{style:{display:"flex",flexDirection:"column",padding:"0 1rem"}},e.map((e=>a.createElement("div",null,e.desc)))))}},4749:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>E,frontMatter:()=>m,metadata:()=>r,toc:()=>d});var a=l(9440),t=(l(6687),l(1317)),i=l(758);const m={},s="SQL",r={unversionedId:"kno/cast/intermediate/database/sql",id:"kno/cast/intermediate/database/sql",title:"SQL",description:"\u6807\u51c6",source:"@site/docs/kno/cast/intermediate/database/sql.mdx",sourceDirName:"kno/cast/intermediate/database",slug:"/kno/cast/intermediate/database/sql",permalink:"/docs/kno/cast/intermediate/database/sql",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"kno_cast",previous:{title:"\u5173\u7cfb\u6570\u636e\u5e93",permalink:"/docs/kno/cast/intermediate/database/rdbs"},next:{title:"\u8f6f\u4ef6\u5de5\u7a0b",permalink:"/docs/kno/cast/intermediate/softwareengineering/"}},c={},d=[{value:"\u6807\u51c6",id:"\u6807\u51c6",level:2},{value:"DDL",id:"ddl",level:2},{value:"\u521b\u5efa\u8868",id:"\u521b\u5efa\u8868",level:3},{value:"\u4fee\u6539\u8868",id:"\u4fee\u6539\u8868",level:3},{value:"\u5220\u9664\u8868",id:"\u5220\u9664\u8868",level:3},{value:"\u5efa\u7acb\u7d22\u5f15",id:"\u5efa\u7acb\u7d22\u5f15",level:3},{value:"\u5220\u9664\u7d22\u5f15",id:"\u5220\u9664\u7d22\u5f15",level:3},{value:"\u521b\u5efa\u89c6\u56fe",id:"\u521b\u5efa\u89c6\u56fe",level:3},{value:"\u5220\u9664\u89c6\u56fe",id:"\u5220\u9664\u89c6\u56fe",level:3},{value:"note",id:"note",level:3},{value:"DML",id:"dml",level:2},{value:"\u67e5\u8be2",id:"\u67e5\u8be2",level:3},{value:"\u8fde\u63a5\u67e5\u8be2",id:"\u8fde\u63a5\u67e5\u8be2",level:3},{value:"\u5b50\u67e5\u8be2",id:"\u5b50\u67e5\u8be2",level:3},{value:"\u63d2\u5165",id:"\u63d2\u5165",level:3},{value:"\u63d2\u5165",id:"\u63d2\u5165-1",level:3},{value:"\u5220\u9664",id:"\u5220\u9664",level:3},{value:"\u4fee\u6539",id:"\u4fee\u6539",level:3},{value:"\u805a\u5408\u51fd\u6570",id:"\u805a\u5408\u51fd\u6570",level:3},{value:"WHERE",id:"where",level:3},{value:"HAVING",id:"having",level:3},{value:"\u6388\u6743",id:"\u6388\u6743",level:3},{value:"\u64a4\u6743",id:"\u64a4\u6743",level:3},{value:"note",id:"note-1",level:3},{value:"\u5d4c\u5165\u5f0f",id:"\u5d4c\u5165\u5f0f",level:2},{value:"SQL\u901a\u4fe1\u533a",id:"sql\u901a\u4fe1\u533a",level:3},{value:"\u5171\u4eab\u53d8\u91cf",id:"\u5171\u4eab\u53d8\u91cf",level:3},{value:"\u6e38\u6807",id:"\u6e38\u6807",level:3}],o={toc:d};function E(e){let{components:n,...l}=e;return(0,t.kt)("wrapper",(0,a.Z)({},o,l,{components:n,mdxType:"MDXLayout"}),(0,t.kt)("h1",{id:"sql"},"SQL"),(0,t.kt)("h2",{id:"\u6807\u51c6"},"\u6807\u51c6"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"ANSI"),(0,t.kt)("li",{parentName:"ul"},"SQL-92"),(0,t.kt)("li",{parentName:"ul"},"SQL-99")),(0,t.kt)("h2",{id:"ddl"},"DDL"),(0,t.kt)("h3",{id:"\u521b\u5efa\u8868"},"\u521b\u5efa\u8868"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE <table_name> (\n  <column_name> <type> [column_integrity_constraint]\n  [, <...>]\n  [, <table_integrity_constraint>]\n);\n")),(0,t.kt)("h3",{id:"\u4fee\u6539\u8868"},"\u4fee\u6539\u8868"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"ALTER TABLE <table_name> \n  [ADD <new_column_name> <type> [column_integrity_constraint]]\n  [DROP <table_integrity_constraint_name>]\n  [MODIFY <column_name> <type>];\n")),(0,t.kt)("h3",{id:"\u5220\u9664\u8868"},"\u5220\u9664\u8868"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"DROP TABLE <table_name>;\n")),(0,t.kt)("h3",{id:"\u5efa\u7acb\u7d22\u5f15"},"\u5efa\u7acb\u7d22\u5f15"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE <([UNIQUE],[CLUSTER])> INDEX <index_name> ON <table_name>{\n  <column_name> [<order>]\n  [,<column_name> [<order>]]\n};\n")),(0,t.kt)("h3",{id:"\u5220\u9664\u7d22\u5f15"},"\u5220\u9664\u7d22\u5f15"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"DROP INDEX <index_name>;\n")),(0,t.kt)("h3",{id:"\u521b\u5efa\u89c6\u56fe"},"\u521b\u5efa\u89c6\u56fe"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE VIEW <view_name> [(column_alias[,column_alias])]\nAS <SELECT_STATEMENT>\n[WITH CHECK OPTION];\n")),(0,t.kt)("h3",{id:"\u5220\u9664\u89c6\u56fe"},"\u5220\u9664\u89c6\u56fe"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"DROP VIEW <view_name>;\n")),(0,t.kt)("h3",{id:"note"},"note"),(0,t.kt)(i.cn,null),(0,t.kt)("h2",{id:"dml"},"DML"),(0,t.kt)("h3",{id:"\u67e5\u8be2"},"\u67e5\u8be2"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * | [aggregation_function | <column_name> [AS <column_alias>],...]\n  FROM <table_name> [[AS <table_alias>],<table_name> [AS <table_alias>],...]\n  [WHERE_STATEMENT]\n  [GROUP BY <column_name> [HAVING-STATMENT]]\n  [ORDER_BY-STATEMENT];\n")),(0,t.kt)("h3",{id:"\u8fde\u63a5\u67e5\u8be2"},"\u8fde\u63a5\u67e5\u8be2"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * | [aggregation_function <column_name> [AS <column_alias>],...]\n  FROM <table_name> [[AS <table_alias>],<table_name> [AS <table_alias>],...]\n  [WHERE_REFERENCE_STATEMENT]\n  [GROUP BY <column_name> [HAVING_STATMENT]]\n  [ORDER_BY_STATEMENT];\n")),(0,t.kt)("h3",{id:"\u5b50\u67e5\u8be2"},"\u5b50\u67e5\u8be2"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * | [aggregation_function <column_name> [AS <column_alias>],...]\n  FROM (SELECT_STATEMENT);\n")),(0,t.kt)("h3",{id:"\u63d2\u5165"},"\u63d2\u5165"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO <table_name> [(<column_name>[,...])]\nVALUES(const,[...]);\n\nINSERT INTO <table_name> [(<column_name>[,...])]\nSELECT_STATEMENT;\n")),(0,t.kt)("h3",{id:"\u63d2\u5165-1"},"\u63d2\u5165"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO <table_name> [(<column_name>[,...])]\nVALUES(const,[...]);\n\nINSERT INTO <table_name> [(<column_name>[,...])]\nSELECT_STATEMENT;\n")),(0,t.kt)("h3",{id:"\u5220\u9664"},"\u5220\u9664"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"DELETE FROM <table_name>\n  [WHERE_STATEMENT];\n")),(0,t.kt)("h3",{id:"\u4fee\u6539"},"\u4fee\u6539"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"UPDATE <table_name> SET <column_name> = <const>[,<column_name> = <const>,...]\n  [WHERE_STATEMENT];\n")),(0,t.kt)("h3",{id:"\u805a\u5408\u51fd\u6570"},"\u805a\u5408\u51fd\u6570"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"COUNT([DISTINCT | ALL] <* | column_name>)\nSUM([DISTINCT | ALL] <* | column_name>)\nAVG([DISTINCT | ALL] <* | column_name>)\nMAX([DISTINCT | ALL] <* | column_name>)\nMIN([DISTINCT | ALL] <* | column_name>)\n")),(0,t.kt)("h3",{id:"where"},"WHERE"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"--- condition\n[NOT] <sth> <[NOT] LIKE | [NOT] BETWEEN | < | <= | >= | > | = | != >  <ath>\n<sth> IS [NOT] NULL\n<sth> [NOT] IN <collection> | (<SELECT_STATEMENT>)\n<sth> < | <= | >= | > | = | != >  [<ANY> | <ALL>] (<SELECT_STATEMENT>)\n\n--- logical \n<AND | OR> <condition> [logical ...]\n\n--- reference\n<table_name.column_name> = <table_name.column_name>\n\n--- WHERE\nWHERE <condition> [logical ...];\n\n--- JOIN\nWHERE <reference> [logical ...];\n\n")),(0,t.kt)("h3",{id:"having"},"HAVING"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"--- aggregation extension for WHERE_STATEMENT\n")),(0,t.kt)("h3",{id:"\u6388\u6743"},"\u6388\u6743"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"GRANT <permission>[,<permission>,...]\n [ON <obj-type> <obj-name>]\n TO PUBLIC | <user>[,<user>,...]\n [WITH GRANT OPTION];\n")),(0,t.kt)("h3",{id:"\u64a4\u6743"},"\u64a4\u6743"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"REVOKE <permission>[,<permission>]\n  [ON <obj-type> <obj-name>]\n  FROM <user>[,<user>,...];\n")),(0,t.kt)("h3",{id:"note-1"},"note"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"--- DATABASE\nCREATETAB;\n--- TABLE\nALTER,\nINDEX\n  --- COLUMN / VIEW\n  SELECT,\n  INSERT,\n  UPDATE,\n  DELETE,\n  ALL PRIVILEGES\n")),(0,t.kt)(i.rn,null),(0,t.kt)("h2",{id:"\u5d4c\u5165\u5f0f"},"\u5d4c\u5165\u5f0f"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-C"},"EXEC SQL <SQL_STATEMENT> [END-EXEC];\n")),(0,t.kt)("h3",{id:"sql\u901a\u4fe1\u533a"},"SQL\u901a\u4fe1\u533a"),(0,t.kt)("p",null,"\u5411\u4e3b\u8bed\u8a00\u4f20\u9012SQL\u8fd0\u884c\u60c5\u51b5\u3002"),(0,t.kt)("h3",{id:"\u5171\u4eab\u53d8\u91cf"},"\u5171\u4eab\u53d8\u91cf"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},"\u67e5\u8be2\u7ed3\u6784\u4f20\u5165\u53d8\u91cf\u3002"),(0,t.kt)("li",{parentName:"ul"},"\u53d8\u91cf\u4f20\u5165SQL\u3002")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-sql"},"DECLARE var1;\nDECLARE var2;\nDECLARE var3;\nDECLARE var4;\nSELECT c1,c2,c3\n  INTO :var1,:var2,:var3\n  FROM test\n  WHERE c4=:var4;\n")),(0,t.kt)("h3",{id:"\u6e38\u6807"},"\u6e38\u6807"),(0,t.kt)("p",null,"\u4f7f\u7528\u6e38\u6807\u904d\u5386\u7ed3\u679c\u96c6\u3002"))}E.isMDXComponent=!0}}]);